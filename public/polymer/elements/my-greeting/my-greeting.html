<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../../bower_components/paper-item/paper-icon-item.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-item/paper-item-body.html">

<dom-module id="my-greeting">
	
  <style>
		.material{
			padding: 20px;
			width: 95%;
		}
		.list {
      padding-top: 12px;
      background-color: white;
      display: inline-block;
      width: 100%;
      //height: 228px;
      margin-top:12px;
      @apply(--shadow-elevation-2dp);
    }

    .short {
      padding-top: 12px;
      //height: 216px;
    }

    h4 {
      margin-left: 24px;
    }

    .avatar {
      display: inline-block;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      overflow: hidden;
      background: #ccc;
    }

    .blue {
      background-color: var(--paper-light-blue-300);
    }
    .red {
      background-color: var(--paper-red-300);
    }
    .orange {
      background-color: var(--paper-amber-300);
    }
    .green {
      background-color: var(--paper-green-300);
    }
		
  </style>
	<template id='app'>
			
		<iron-ajax 
			auto
			id='ajax'
			url="../../../json/yelp_mockup.json"
			handle-as="json"
			params="{{ajaxParams}}"
			on-response="response"
			method="GET"
		</iron-ajax>
		<paper-material class='material' elevation="1">		
			<h1 class="paper-font-display1"><span>{{greeting}}</span></h1>
			<span class="paper-font-body2">Enter your location to find bars near you.</span>
			<input class="paper-font-body2" placeholder="city">
		</paper-material>
		<template is="dom-repeat" items="[[place]]">
			 <div class="list short">
        <h4>[[item.data.name]]</h4>			
				<paper-icon-item>	
          <div class="avatar orange" item-icon></div>
          <div class="flex">Lorem</div>
          <paper-checkbox></paper-checkbox>
        </paper-icon-item>
      </div>
		</template>
  	
	</template>
  <script>
		(function() {
			Polymer({
        is: 'my-greeting',

        properties: {
          greeting: {
            type: String,
            value: 'Welcome!',
            notify: true
          },
					place: {
						type: Array,
						notify: true
					},
					data: {
						type: String,
						value: 'children'
					},
					ajaxParams: {
						type: String,
						computed: 'processParams(kind)'
					}
				},
				processParams: function(kind){
					return {data:data};					
				},
				response: function(e){
					//console.log(e.detail.response);
					//console.log(this.$.ajax.lastResponse);
					this.place = e.detail.response.data.children;
				}
      });
    })();
  </script>

</dom-module>
